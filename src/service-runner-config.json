{
  "$schema": "./lib/service-runner-schema.json",
  "services": [
    {
      "name": "multi-geth",
      "rpcPort": "${DYNAMIC_TCP_PORT_1}",
      "version": "1.9.3",
      "environments": [{
          "name": "mainnet",
          "args": {
            "start": [
              "--classic",
              "--datadir",
              "${SERVICE_DIR}/multi-geth/1.9.3/classic",
              "--ipcpath",
              "${SERVICE_DIR}/multi-geth/1.9.3/classic/geth.ipc",
              "--port",
              "${DYNAMIC_TCP_PORT_2}",
              "--rpc",
              "--rpcport",
              "${DYNAMIC_TCP_PORT_1}",
              "--rpccorsdomain", 
              "*"
            ],
            "stop": [],
            "teardown": []
          },
          "health": {
           "interval": 20000, 
           "retries": 5,
           "port": "${DYNAMIC_TCP_PORT_1}",
           "protocol": "tcp"
           }
        },
        {
          "name": "kotti",
          "args": {
            "start": [
              "--kotti",
              "--datadir",
              "${SERVICE_DIR}/multi-geth/1.9.3/kotti",
              "--ipcpath",
              "${SERVICE_DIR}/multi-geth/1.9.3/kotti/geth.ipc",
              "--port",
              "${DYNAMIC_TCP_PORT_2}",
              "--rpc",
              "--rpcport",
              "${DYNAMIC_TCP_PORT_1}",
              "--rpcaddr",
              "localhost",
              "--rpccorsdomain",
              "*"
            ],
            "stop": [],
            "teardown": []
          },
          "health": {
           "interval": 20000, 
           "retries": 5,
           "port": "${DYNAMIC_TCP_PORT_1}",
           "protocol": "tcp"
           }
        },
        {
          "name": "dev",
          "args": {
            "start": [
              "--dev",
              "--datadir",
              "${SERVICE_DIR}/multi-geth/1.9.3/dev",
              "--ipcpath",
              "${SERVICE_DIR}/multi-geth/1.9.3/dev/geth.ipc",
              "--port",
              "${DYNAMIC_TCP_PORT_2}",
              "--rpc",
              "--rpcport",
              "${DYNAMIC_TCP_PORT_1}",
              "--rpccorsdomain", 
              "*"
            ],
            "stop": [],
            "teardown": []
          },
          "health": {
           "interval": 20000, 
           "retries": 5,
           "port": "${DYNAMIC_TCP_PORT_1}",
           "protocol": "tcp"
           }
        },
        {
          "name": "ethereum",
          "args": {
            "start": [
              "--datadir",
              "${SERVICE_DIR}/multi-geth/1.9.3/ethereum",
              "--ethereum",
              "${SERVICE_DIR}/multi-geth/1.9.3/ethereum/geth.ipc",
              "--port",
              "${DYNAMIC_TCP_PORT_2}",
              "--rpc",
              "--rpcport",
              "${DYNAMIC_TCP_PORT_1}",
              "--rpccorsdomain",
              "*"
            ],
            "stop": [],
            "teardown": []
          },
          "health": {
           "interval": 20000, 
           "retries": 5,
           "port": "${DYNAMIC_TCP_PORT_1}",
           "protocol": "tcp"
           }
        },
        {
          "name": "goerli",
          "args": {
            "start": [
              "--goerli",
              "--datadir",
              "${SERVICE_DIR}/multi-geth/1.9.3/goerli",
              "--ipcpath",
              "${SERVICE_DIR}/multi-geth/1.9.3/goerli/geth.ipc",
              "--port",
              "${DYNAMIC_TCP_PORT_2}",
              "--rpc",
              "--rpcport",
              "${DYNAMIC_TCP_PORT_1}",
              "--rpccorsdomain",
              "*"
            ],
            "stop": [],
            "teardown": []
          },
          "health": {
           "interval": 20000, 
           "retries": 5,
           "port": "${DYNAMIC_TCP_PORT_1}",
           "protocol": "tcp"
           }
        },
        {
          "name": "rinkeby",
          "args": {
            "start": [
              "--rinkeby",
              "--datadir",
              "${SERVICE_DIR}/multi-geth/1.9.3/rinkeby",
              "--ipcpath",
              "${SERVICE_DIR}/multi-geth/1.9.3/rinkeby/geth.ipc",
              "--port",
              "${DYNAMIC_TCP_PORT_2}",
              "--rpc",
              "--rpcport",
              "${DYNAMIC_TCP_PORT_1}",
              "--rpccorsdomain",
              "*"
            ],
            "stop": [],
            "teardown": []
          },
          "health": {
           "interval": 20000, 
           "retries": 5,
           "port": "${DYNAMIC_TCP_PORT_1}",
           "protocol": "tcp"
           }
        }
      ],
      "os": {
        "osx": {
          "commands": {
            "setup": [
              {
                "cmd": "chmod",
                "args": [
                  "+x",
                  "${SERVICE_DIR}/geth"
                ]
              }
            ],
            "start": "${SERVICE_DIR}/geth",
            "stop": "",
            "teardown": ""
          },
          "assets": [
            "https://github.com/multi-geth/multi-geth/releases/download/v1.9.3/multi-geth-osx.zip"
          ]
        },
        "linux": {
          "commands": {
            "setup": [
              {
                "cmd": "chmod",
                "args": [
                  "+x",
                  "${SERVICE_DIR}/geth"
                ]
              }
            ],
            "start": "${SERVICE_DIR}/geth",
            "stop": "",
            "teardown": ""
          },
          "assets": [
            "https://github.com/multi-geth/multi-geth/releases/download/v1.9.3/multi-geth-linux.zip"
          ]
        }
      }
    }
  ]
}
